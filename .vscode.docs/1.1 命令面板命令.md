# 命令面板命令

<img src="https://rengar-1253859411.cos.ap-chengdu.myqcloud.com/img/20201111200723.png" width = "550" height = "440" alt="图片名称" style="margin: 0 auto;display: block;" />

## 注册命令
```js
context.subscriptions.push(vscode.commands.registerCommand('extension.sayHello', () => {
    vscode.window.showInformationMessage('您执行了extension.sayHello命令！')
}));
```

## 回调参数
注册命令的callback接受一个可选参数 uri

- 当从资源管理器中右键执行命令时会把当前选中资源路径uri作为参数传过
- 当从编辑器中右键菜单执行时则会将当前打开文件路径URI传过去
- 当直接按Ctrl+Shift+P执行命令时，这个参数为空

```js
context.subscriptions.push(vscode.commands.registerCommand('extension.demo.getCurrentFilePath', (uri) => {
    vscode.window.showInformationMessage(`当前文件(夹)路径是：${uri ? uri.path : '空'}`)
}));
```

## package.json配置
```js
"menus": {
    "editor/context": [
        {
            "when": "editorFocus",
            "command": "extension.demo.getCurrentFilePath",
            "group": "navigation"
        }
    ],
    "explorer/context": [
        {
            "command": "extension.demo.getCurrentFilePath",
            "group": "navigation"
        }
    ]
}
```